<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Extract Node Identifiers</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for nodeids {partykit}"><tr><td>nodeids {partykit}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2> Extract Node Identifiers </h2>

<h3>Description</h3>

<p>Extract unique identifiers from inner and terminals
nodes of a <code>partynode</code> object.
</p>


<h3>Usage</h3>

<pre>
nodeids(obj, ...)
## S3 method for class 'partynode'
nodeids(obj, from = NULL, terminal = FALSE, ...)
## S3 method for class 'party'
nodeids(obj, from = NULL, terminal = FALSE, ...)
get_paths(obj, i)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>obj</code></td>
<td>
<p> an object of class <code><a href="partynode.html">partynode</a></code> 
or <code><a href="party.html">party</a></code>.</p>
</td></tr>
<tr valign="top"><td><code>from</code></td>
<td>
<p> an integer specifying node to start from.</p>
</td></tr>
<tr valign="top"><td><code>terminal</code></td>
<td>
<p> logical specifying if only node identifiers 
of terminal nodes are returned. </p>
</td></tr>
<tr valign="top"><td><code>i</code></td>
<td>
<p>a vector of node identifiers.</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p> additional arguments.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The identifiers of each node are extracted from <code>nodeids</code>.
<code>get_paths</code> returns the paths for extracting the corresponding
nodes using list subsets.
</p>


<h3>Value</h3>

<p>A vector of node identifiers.
</p>


<h3>Examples</h3>

<pre>

  ## a tree as flat list structure
  nodelist &lt;- list(
      # root node
      list(id = 1L, split = partysplit(varid = 4L, breaks = 1.9),
          kids = 2:3),
      # V4 &lt;= 1.9, terminal node
      list(id = 2L),
      # V4 &gt; 1.9
      list(id = 3L, split = partysplit(varid = 1L, breaks = 1.7),
          kids = c(4L, 7L)),
      # V1 &lt;= 1.7
      list(id = 4L, split = partysplit(varid = 4L, breaks = 4.8),
          kids = 5:6),
      # V4 &lt;= 4.8, terminal node
      list(id = 5L),
      # V4 &gt; 4.8, terminal node
      list(id = 6L),
      # V1 &gt; 1.7, terminal node
      list(id = 7L)
  )

  ## convert to a recursive structure
  node &lt;- as.partynode(nodelist)

  ## set up party object
  data("iris")
  tree &lt;- party(node, data = iris, 
      fitted = data.frame("(fitted)" = 
                          fitted_node(node, data = iris),
                          check.names = FALSE))
  tree
  
  ### ids of all nodes
  nodeids(tree)

  ### ids of all terminal nodes
  nodeids(tree, terminal = TRUE)

  ### ids of terminal nodes in subtree with root [3]
  nodeids(tree, from = 3, terminal = TRUE)

  ### get paths and extract all terminal nodes
  tr &lt;- unclass(node_party(tree))
  lapply(get_paths(tree, nodeids(tree, terminal = TRUE)), 
         function(path) tr[path])

</pre>

<hr /><div style="text-align: center;">[Package <em>partykit</em> version 1.2-2 <a href="00Index.html">Index</a>]</div>
</body></html>
