<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Data Preprocessing for Extensible Trees.</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for extree_data {partykit}"><tr><td>extree_data {partykit}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>
Data Preprocessing for Extensible Trees.
</h2>

<h3>Description</h3>

<p>A routine for preprocessing data before an extensible tree can be grown by
<code>extree_fit</code>.
</p>


<h3>Usage</h3>

<pre>
extree_data(formula, data, subset, na.action = na.pass, weights, offset, 
            cluster, strata, scores = NULL, yx = c("none", "matrix"),
            ytype = c("vector", "data.frame", "matrix"), 
            nmax = c(yx = Inf, z = Inf), ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>formula</code></td>
<td>
<p>a formula describing the model of the form <code>y1 + y2 + ... ~
x1 + x2 + ... | z1 + z2 + ...</code>.
</p>
</td></tr>
<tr valign="top"><td><code>data</code></td>
<td>
<p>an optional data.frame containing the variables in the model.
</p>
</td></tr>
<tr valign="top"><td><code>subset</code></td>
<td>
<p>an optional vector specifying a subset of observations to be
used in the fitting process.
</p>
</td></tr>
<tr valign="top"><td><code>na.action</code></td>
<td>
<p>a function which indicates what should happen when the
data contain missing values.
</p>
</td></tr>
<tr valign="top"><td><code>weights</code></td>
<td>
<p>an optional vector of weights.
</p>
</td></tr>
<tr valign="top"><td><code>offset</code></td>
<td>
<p>an optional offset vector.
</p>
</td></tr>
<tr valign="top"><td><code>cluster</code></td>
<td>
<p>an optional factor describing clusters. The interpretation
depends on the specific tree algorithm.
</p>
</td></tr>
<tr valign="top"><td><code>strata</code></td>
<td>
<p>an optional factor describing strata. The interpretation
depends on the specific tree algorithm.
</p>
</td></tr>
<tr valign="top"><td><code>scores</code></td>
<td>
<p>an optional named list of numeric scores to be assigned to
ordered factors in the <code>z</code> part of the formula.
</p>
</td></tr>
<tr valign="top"><td><code>yx</code></td>
<td>
<p>a character indicating if design matrices shall be computed. 
</p>
</td></tr>
<tr valign="top"><td><code>ytype</code></td>
<td>
<p>a character indicating how response variables shall be
stored.
</p>
</td></tr>
<tr valign="top"><td><code>nmax</code></td>
<td>
<p>a numeric vector of length two with the maximal number of
bins in the response and <code>x</code>-part (first element) and the <code>z</code>
part. Use <code>Inf</code> to switch-off binning.
</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>additional arguments.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This internal functionality will be the basis of implementations of other
tree algorithms in future versions. Currently, only <code>ctree</code> relies on
this function.
</p>


<h3>Value</h3>

<p>An object of class <code>extree_data</code>.
</p>


<h3>Examples</h3>

<pre>

  data("iris")

  ed &lt;- extree_data(Species ~ Sepal.Width + Sepal.Length | Petal.Width + Petal.Length, 
                    data = iris, nmax = c("yx" = 25, "z" = 10), yx = "matrix")

  ### the model.frame
  mf &lt;- model.frame(ed)
  all.equal(mf, iris[, names(mf)])

  ### binned y ~ x part
  model.frame(ed, yxonly = TRUE)

  ### binned Petal.Width
  ed[[4, type = "index"]]

  ### response
  ed$yx$y

  ### model matrix 
  ed$yx$x

</pre>

<hr /><div style="text-align: center;">[Package <em>partykit</em> version 1.2-2 <a href="00Index.html">Index</a>]</div>
</body></html>
