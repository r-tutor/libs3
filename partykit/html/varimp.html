<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Variable Importance</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for varimp {partykit}"><tr><td>varimp {partykit}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2> Variable Importance </h2>

<h3>Description</h3>

<p>Standard and conditional variable importance for &lsquo;cforest&rsquo;, following the permutation
principle of the &lsquo;mean decrease in accuracy&rsquo; importance in &lsquo;randomForest&rsquo;.
</p>


<h3>Usage</h3>

<pre>
## S3 method for class 'constparty'
varimp(object, nperm = 1L, 
       risk = c("loglik", "misclassification"), conditions = NULL,
       mincriterion = 0, ...)
## S3 method for class 'cforest'
varimp(object, nperm = 1L, 
       OOB = TRUE, risk = c("loglik", "misclassification"),
       conditional = FALSE, threshold = .2, ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>object</code></td>
<td>
<p> an object as returned by <code>cforest</code>.</p>
</td></tr>
<tr valign="top"><td><code>mincriterion</code></td>
<td>
<p> the value of the test statistic or 1 - p-value that
must be exceeded in order to include a split in the 
computation of the importance. The default <code>mincriterion = 0</code>
guarantees that all splits are included.</p>
</td></tr>
<tr valign="top"><td><code>conditional</code></td>
<td>
<p> a logical determining whether unconditional or conditional 
computation of the importance is performed. </p>
</td></tr>
<tr valign="top"><td><code>threshold</code></td>
<td>
<p> the value of the test statistic or 1 - p-value of the association 
between the variable of interest and a covariate that must be 
exceeded inorder to include the covariate in the conditioning 
scheme for the variable of interest (only relevant if 
<code>conditional = TRUE</code>). </p>
</td></tr>
<tr valign="top"><td><code>nperm</code></td>
<td>
<p> the number of permutations performed.</p>
</td></tr>
<tr valign="top"><td><code>OOB</code></td>
<td>
<p> a logical determining whether the importance is computed from the out-of-bag 
sample or the learning sample (not suggested).</p>
</td></tr>
<tr valign="top"><td><code>risk</code></td>
<td>
<p> a character determining the risk to be evaluated.</p>
</td></tr>
<tr valign="top"><td><code>conditions</code></td>
<td>
<p> a list of conditions. </p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>additional arguments, not used.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>NEEDS UPDATE
</p>
<p>Function <code>varimp</code> can be used to compute variable importance measures
similar to those computed by <code><a href="../../randomForest/html/importance.html">importance</a></code>. Besides the
standard version, a conditional version is available, that adjusts for correlations between
predictor variables. 
</p>
<p>If <code>conditional = TRUE</code>, the importance of each variable is computed by permuting 
within a grid defined by the covariates that are associated  (with 1 - p-value 
greater than <code>threshold</code>) to the variable of interest.
The resulting variable importance score is conditional in the sense of beta coefficients in   
regression models, but represents the effect of a variable in both main effects and interactions.
See Strobl et al. (2008) for details.
</p>
<p>Note, however, that all random forest results are subject to random variation. Thus, before
interpreting the importance ranking, check whether the same ranking is achieved with a
different random seed &ndash; or otherwise increase the number of trees <code>ntree</code> in 
<code><a href="ctree_control.html">ctree_control</a></code>.
</p>
<p>Note that in the presence of missings in the predictor variables the procedure
described in Hapfelmeier et al. (2012) is performed.
</p>


<h3>Value</h3>

<p>A vector of &lsquo;mean decrease in accuracy&rsquo; importance scores.
</p>


<h3>References</h3>

 
<p>Leo Breiman (2001). Random Forests. <em>Machine Learning</em>, 45(1), 5&ndash;32.
</p>
<p>Alexander Hapfelmeier, Torsten Hothorn, Kurt Ulm, and Carolin Strobl (2012).
A New Variable Importance Measure for Random Forests with Missing Data.
<em>Statistics and Computing</em>, <a href="http://dx.doi.org/10.1007/s11222-012-9349-1">http://dx.doi.org/10.1007/s11222-012-9349-1</a>
</p>
<p>Torsten Hothorn, Kurt Hornik, and Achim Zeileis (2006b). Unbiased
Recursive Partitioning: A Conditional Inference Framework.
<em>Journal of Computational and Graphical Statistics</em>, <b>15</b> (3),
651-674.  Preprint available from 
<a href="http://statmath.wu-wien.ac.at/~zeileis/papers/Hothorn+Hornik+Zeileis-2006.pdf">http://statmath.wu-wien.ac.at/~zeileis/papers/Hothorn+Hornik+Zeileis-2006.pdf</a>
</p>
<p>Carolin Strobl, Anne-Laure Boulesteix, Thomas Kneib, Thomas Augustin, and Achim Zeileis (2008).
Conditional Variable Importance for Random Forests. <em>BMC Bioinformatics</em>, <b>9</b>, 307. 
<a href="http://www.biomedcentral.com/1471-2105/9/307">http://www.biomedcentral.com/1471-2105/9/307</a>
</p>


<h3>Examples</h3>

<pre>
    
   set.seed(290875)
   data("readingSkills", package = "party")
   readingSkills.cf &lt;- cforest(score ~ ., data = readingSkills, 
                               mtry = 2, ntree = 50)

   # standard importance
   varimp(readingSkills.cf)

   # conditional importance, may take a while...
   varimp(readingSkills.cf, conditional = TRUE)

</pre>

<hr /><div style="text-align: center;">[Package <em>partykit</em> version 1.2-1 <a href="00Index.html">Index</a>]</div>
</body></html>
