<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Repeatedly estimate model using resampling with replacement</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for mxBootstrap {OpenMx}"><tr><td>mxBootstrap {OpenMx}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Repeatedly estimate model using resampling with replacement</h2>

<h3>Description</h3>

<p>Bootstrapping is used to quantify the variability of parameter estimates.
A new sample is drawn from the model data (uniformly sampling the
original data with replacement). The model is re-fitted to this new
sample. This process is repeated many times. This yields a series of estimates
from these replications which can be used to assess the variability of the parameters.
</p>


<h3>Usage</h3>

<pre>
mxBootstrap(model, replications=200, ...,
                        data=NULL, plan=NULL, verbose=0L,
                        parallel=TRUE, only=as.integer(NA),
			OK=mxOption(model, "Status OK"), checkHess=FALSE)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>model</code></td>
<td>
<p>The MxModel to be run.</p>
</td></tr>
<tr valign="top"><td><code>replications</code></td>
<td>
<p>The number of resampling replications. If
available, replications from prior mxBootstrap invocations will be reused.</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>Not used.  Forces remaining arguments to be specified by name.</p>
</td></tr>
<tr valign="top"><td><code>data</code></td>
<td>
<p>A character vector of data or model names</p>
</td></tr>
<tr valign="top"><td><code>plan</code></td>
<td>
<p>Deprecated</p>
</td></tr>
<tr valign="top"><td><code>verbose</code></td>
<td>
<p>For levels greater than 0, enables runtime diagnostics</p>
</td></tr>
<tr valign="top"><td><code>parallel</code></td>
<td>
<p>Whether to process the replications in parallel</p>
</td></tr>
<tr valign="top"><td><code>only</code></td>
<td>
<p>When provided, only the given replication from a prior
run of <code>mxBootstrap</code> will be performed. See details.</p>
</td></tr>
<tr valign="top"><td><code>OK</code></td>
<td>
<p>The set of status code that are considered successful</p>
</td></tr>
<tr valign="top"><td><code>checkHess</code></td>
<td>
<p>Whether to approximate the Hessian in each replication</p>
</td></tr>
</table>


<h3>Details</h3>

<p>By default, all datasets in the given model are resampled
independently. If resampling is desired from only some of
the datasets then the models containing them can be listed in the
&lsquo;data&rsquo; parameter.
</p>
<p>The <code>frequency</code> column in the <code><a href="mxData.html">mxData</a></code> object is used
represent a resampled dataset. When resampling, the original row
proportions, as given by the original <code>frequency</code> column, are
respected.
</p>
<p>When the model has a default compute plan and &lsquo;checkHess&rsquo; is
kept at FALSE then the Hessian will not be approximated or checked.
On the other hand, &lsquo;checkHess&rsquo; is TRUE then the Hessian will be
approximated by finite differences. This procedure is of some value
because it can be informative to check whether the Hessian is positive
definite (see <code><a href="mxComputeHessianQuality.html">mxComputeHessianQuality</a></code>).  However,
approximating the Hessian is often costly in terms of CPU time. For
bootstrapping, the parameter estimates derived from the resampled data
are typically of primary interest.
</p>
<p>On occasion, replications will fail. Sometimes it can be helpful to
exactly reproduce a failed replication to attempt to pinpoint the
cause of failure. The &lsquo;only&rsquo; option facilitates this kind of
investigation. In normal operation, mxBootstrap uses the regular R
random number generator to generate a seed for each replication. This
seed is used to seed an internal pseudorandom number generator
(currently the Mersenne Twister algorithm). These
per-replication seeds are stored as part of the bootstrap output. When
&lsquo;only&rsquo; is specified, the associated stored seed is used to seed the
internal random number generator so that identical weights can be
regenerated.
</p>
<p>&lsquo;mxBootstrap&rsquo; does not currently offer special support for nested or
multilevel data. Rows are assumed model-wise independent.
</p>


<h3>Value</h3>

<p>The given model is returned with
the compute plan modified to consist of
<code>mxComputeBootstrap</code>. Results of the bootstrap replications are
stored inside the compute plan. <code><a href="summary.MxModel.html">mxSummary</a></code> can be used to
obtain per-parameter quantiles and standard errors.
</p>


<h3>See Also</h3>

<p><code><a href="mxBootstrapEval.html">mxBootstrapEval</a></code>, <code><a href="mxComputeBootstrap.html">mxComputeBootstrap</a></code>,
<code><a href="summary.MxModel.html">mxSummary</a></code>, <code><a href="mxBootstrapStdizeRAMpaths.html">mxBootstrapStdizeRAMpaths</a></code>,
<code><a href="as.statusCode.html">as.statusCode</a></code>
</p>


<h3>Examples</h3>

<pre>
library(OpenMx)

data(multiData1)

manifests &lt;- c("x1", "x2", "y")

biRegModelRaw &lt;- mxModel(
  "Regression of y on x1 and x2",
  type="RAM",
  manifestVars=manifests,
  mxPath(from=c("x1","x2"), to="y", 
         arrows=1, 
         free=TRUE, values=.2, labels=c("b1", "b2")),
  mxPath(from=manifests, 
         arrows=2, 
         free=TRUE, values=.8, 
         labels=c("VarX1", "VarX2", "VarE")),
  mxPath(from="x1", to="x2",
         arrows=2, 
         free=TRUE, values=.2, 
         labels=c("CovX1X2")),
  mxPath(from="one", to=manifests, 
         arrows=1, free=TRUE, values=.1, 
         labels=c("MeanX1", "MeanX2", "MeanY")),
  mxData(observed=multiData1, type="raw"))

biRegModelRawOut &lt;- mxRun(biRegModelRaw)

boot &lt;- mxBootstrap(biRegModelRawOut, 10)   # start with 10
summary(boot)

# Looks good, now do the rest
## Not run: boot &lt;- mxBootstrap(boot)
summary(boot)

# examine replication 3
boot3 &lt;- mxBootstrap(boot, only=3)

print(coef(boot3))
print(boot$compute$output$raw[3,names(coef(boot3))])
</pre>

<hr /><div style="text-align: center;">[Package <em>OpenMx</em> version 2.12.1 <a href="00Index.html">Index</a>]</div>
</body></html>
