<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Comparing Results from Different NMF Runs</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for compare-NMF {NMF}"><tr><td>compare-NMF {NMF}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Comparing Results from Different NMF Runs</h2>

<h3>Description</h3>

<p>The functions documented here allow to compare the fits
computed in different NMF runs. The fits do not need to
be from the same algorithm, nor have the same dimension.
</p>


<h3>Usage</h3>

<pre>
  ## S4 method for signature 'NMFfit'
compare(object, ...)

  ## S4 method for signature 'list'
compare(object, ...)

  ## S4 method for signature 'NMFList'
summary(object, sort.by = NULL,
    select = NULL, ...)

  ## S4 method for signature 'NMFList,missing'
plot(x, y, skip = -1, ...)

  ## S4 method for signature 'NMF.rank'
consensusmap(object, ...)

  ## S4 method for signature 'list'
consensusmap(object, layout,
    Rowv = FALSE, main = names(object), ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>...</code></td>
<td>
<p>extra arguments passed by <code>compare</code> to
<code>summary,NMFList</code> or to the <code>summary</code> method of
each fit.</p>
</td></tr>
<tr valign="top"><td><code>select</code></td>
<td>
<p>the columns to be output in the result
<code>data.frame</code>.  The column are given by their names
(partially matched).  The column names are the names of
the summary measures returned by the <code>summary</code>
methods of the corresponding NMF results.</p>
</td></tr>
<tr valign="top"><td><code>sort.by</code></td>
<td>
<p>the sorting criteria, i.e. a partial match
of a column name, by which the result <code>data.frame</code>
is sorted.  The sorting direction (increasing or
decreasing) is computed internally depending on the
chosen criteria (e.g. decreasing for the cophenetic
coefficient, increasing for the residuals).</p>
</td></tr>
<tr valign="top"><td><code>x</code></td>
<td>
<p>an <code>NMFList</code> object that contains fits from
separate NMF runs.</p>
</td></tr>
<tr valign="top"><td><code>y</code></td>
<td>
<p>missing</p>
</td></tr>
<tr valign="top"><td><code>layout</code></td>
<td>
<p>specification of the layout. It may be a
single numeric or a numeric couple, to indicate a square
or rectangular layout respectively, that is filled row by
row. It may also be a matrix that is directly passed to
the function <code><a href="../../graphics/html/layout.html">layout</a></code> from the
package <code>graphics</code>.</p>
</td></tr>
<tr valign="top"><td><code>object</code></td>
<td>
<p>an object computed using some algorithm, or
that describes an algorithm itself.</p>
</td></tr>
<tr valign="top"><td><code>skip</code></td>
<td>
<p>an integer that indicates the number of
points to skip/remove from the beginning of the curve. If
<code>skip=1L</code> (default) only the initial residual &ndash;
that is computed before any iteration, is skipped, if
present in the track (it associated with iteration 0).</p>
</td></tr>
<tr valign="top"><td><code>Rowv</code></td>
<td>
<p>clustering specification(s) for the rows. It
allows to specify the
distance/clustering/ordering/display parameters to be
used for the <em>rows only</em>. Possible values are:
</p>
 <ul>
<li> <p><code>TRUE</code> or <code>NULL</code> (to be
consistent with <code><a href="../../stats/html/heatmap.html">heatmap</a></code>): compute a
dendrogram from hierarchical clustering using the
distance and clustering methods <code>distfun</code> and
<code>hclustfun</code>.
</p>
</li>
<li> <p><code>NA</code>: disable any ordering. In this case, and
if not otherwise specified with argument
<code>revC=FALSE</code>, the heatmap shows the input matrix
with the rows in their original order, with the first row
on top to the last row at the bottom. Note that this
differ from the behaviour or <code><a href="../../stats/html/heatmap.html">heatmap</a></code>, but
seemed to be a more sensible choice when vizualizing a
matrix without reordering.
</p>
</li>
<li><p> an integer vector of length the number of rows of
the input matrix (<code>nrow(x)</code>), that specifies the row
order. As in the case <code>Rowv=NA</code>, the ordered matrix
is shown first row on top, last row at the bottom.
</p>
</li>
<li><p> a character vector or a list specifying values to
use instead of arguments <code>distfun</code>, <code>hclustfun</code>
and <code>reorderfun</code> when clustering the rows (see the
respective argument descriptions for a list of accepted
values). If <code>Rowv</code> has no names, then the first
element is used for <code>distfun</code>, the second (if
present) is used for <code>hclustfun</code>, and the third (if
present) is used for <code>reorderfun</code>.
</p>
</li>
<li><p> a numeric vector of weights, of length the number
of rows of the input matrix, used to reorder the
internally computed dendrogram <code>d</code> by
<code>reorderfun(d, Rowv)</code>.
</p>
</li>
<li> <p><code>FALSE</code>: the dendrogram <em>is</em> computed
using methods <code>distfun</code>, <code>hclustfun</code>, and
<code>reorderfun</code> but is not shown.
</p>
</li>
<li><p> a single integer that specifies how many subtrees
(i.e. clusters) from the computed dendrogram should have
their root faded out. This can be used to better
highlight the different clusters.
</p>
</li>
<li><p> a single double that specifies how much space is
used by the computed dendrogram. That is that this value
is used in place of <code>treeheight</code>. </p>
</li></ul>
</td></tr>
<tr valign="top"><td><code>main</code></td>
<td>
<p>Main title as a character string or a grob.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The methods <code>compare</code> enables to compare multiple
NMF fits either passed as arguments or as a list of fits.
These methods eventually call the method
<code>summary,NMFList</code>, so that all its arguments can be
passed <strong>named</strong> in <code>...</code>.
</p>


<h3>Methods</h3>


<dl>
<dt>compare</dt><dd><p><code>signature(object = "NMFfit")</code>:
Compare multiple NMF fits passed as arguments. </p>
</dd>
<dt>compare</dt><dd><p><code>signature(object = "list")</code>:
Compares multiple NMF fits passed as a standard list. </p>
</dd>
<dt>consensusmap</dt><dd><p><code>signature(object =
  "NMF.rank")</code>: Draw a single plot with a heatmap of the
consensus matrix obtained for each value of the rank, in
the range tested with <code><a href="nmfEstimateRank.html">nmfEstimateRank</a></code>. </p>
</dd>
<dt>consensusmap</dt><dd><p><code>signature(object = "list")</code>:
Draw a single plot with a heatmap of the consensus matrix
of each element in the list <code>object</code>. </p>
</dd>
<dt>plot</dt><dd><p><code>signature(x = "NMFList", y =
  "missing")</code>: <code>plot</code> plot on a single graph the
residuals tracks for each fit in <code>x</code>. See function
<code><a href="nmf.html">nmf</a></code> for details on how to enable the
tracking of residuals. </p>
</dd>
<dt>summary</dt><dd><p><code>signature(object = "NMFList")</code>:
<code>summary,NMFList</code> computes summary measures for each
NMF result in the list and return them in rows in a
<code>data.frame</code>. By default all the measures are
included in the result, and <code>NA</code> values are used
where no data is available or the measure does not apply
to the result object (e.g. the dispersion for single' NMF
runs is not meaningful). This method is very useful to
compare and evaluate the performance of different
algorithms. </p>
</dd>
</dl>



<h3>Examples</h3>

<pre>


#----------
# compare,NMFfit-method
#----------
x &lt;- rmatrix(20,10)
res &lt;- nmf(x, 3)
res2 &lt;- nmf(x, 2, 'lee')

# compare arguments
compare(res, res2, target=x)

#----------
# compare,list-method
#----------
# compare elements of a list
compare(list(res, res2), target=x)
</pre>

<hr /><div style="text-align: center;">[Package <em>NMF</em> version 0.21.0 <a href="00Index.html">Index</a>]</div>
</body></html>
