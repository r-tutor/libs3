<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Simulating Datasets</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for syntheticNMF {NMF}"><tr><td>syntheticNMF {NMF}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Simulating Datasets</h2>

<h3>Description</h3>

<p>The function <code>syntheticNMF</code> generates random target
matrices that follow some defined NMF model, and may be
used to test NMF algorithms. It is designed to designed
to produce data with known or clear classes of samples.
</p>


<h3>Usage</h3>

<pre>
  syntheticNMF(n, r, p, offset = NULL, noise = TRUE,
    factors = FALSE, seed = NULL)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>n</code></td>
<td>
<p>number of rows of the target matrix.</p>
</td></tr>
<tr valign="top"><td><code>r</code></td>
<td>
<p>specification of the factorization rank. It may
be a single <code>numeric</code>, in which case argument
<code>p</code> is required and <code>r</code> groups of samples are
generated from a draw from a multinomial distribution
with equal probabilities, that provides their sizes.
</p>
<p>It may also be a numerical vector, which contains the
number of samples in each class (i.e integers). In this
case argument <code>p</code> is discarded and forced to be the
sum of <code>r</code>.</p>
</td></tr>
<tr valign="top"><td><code>p</code></td>
<td>
<p>number of columns of the synthetic target
matrix. Not used if parameter <code>r</code> is a vector (see
description of argument <code>r</code>).</p>
</td></tr>
<tr valign="top"><td><code>offset</code></td>
<td>
<p>specification of a common offset to be
added to the synthetic target matrix, before
noisification. Its may be a numeric vector of length
<code>n</code>, or a single numeric value that is used as the
standard deviation of a centred normal distribution from
which the actual offset values are drawn.</p>
</td></tr>
<tr valign="top"><td><code>noise</code></td>
<td>
<p>a logical that indicate if noise should be
added to the matrix.</p>
</td></tr>
<tr valign="top"><td><code>factors</code></td>
<td>
<p>a logical that indicates if the NMF
factors should be return together with the matrix.</p>
</td></tr>
<tr valign="top"><td><code>seed</code></td>
<td>
<p>a single numeric value used to seed the
random number generator before generating the matrix. The
state of the RNG is restored on exit.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a matrix, or a list if argument <code>factors=TRUE</code>.
</p>
<p>When <code>factors=FALSE</code>, the result is a matrix object,
with the following attributes set: </p>

<dl>
<dt>coefficients</dt><dd><p>the true underlying coefficient
matrix (i.e. <code>H</code>);</p>
</dd> <dt>basis</dt><dd><p>the true underlying
coefficient matrix (i.e. <code>H</code>);</p>
</dd> <dt>offset</dt><dd><p>the
offset if any;</p>
</dd> <dt>pData</dt><dd><p>a <code>list</code> with one
element <code>'Group'</code> that contains a factor that
indicates the true groups of samples, i.e. the most
contributing basis component for each sample;</p>
</dd>
<dt>fData</dt><dd><p>a <code>list</code> with one element
<code>'Group'</code> that contains a factor that indicates the
true groups of features, i.e. the basis component to
which each feature contributes the most.</p>
</dd> </dl>

<p>Moreover, the result object is an
<code><a href="../../pkgmaker/html/ExposeAttribute.html">ExposeAttribute</a></code> object, which means that
relevant attributes are accessible via <code>$</code>, e.g.,
<code>res$coefficients</code>. In particular, methods
<code><a href="basis-coef-methods.html">coef</a></code> and <code><a href="basis-coef-methods.html">basis</a></code> will work as
expected and return the true underlying coefficient and
basis matrices respectively.
</p>


<h3>Examples</h3>

<pre>


# generate a synthetic dataset with known classes: 50 features, 18 samples (5+5+8)
n &lt;- 50
counts &lt;- c(5, 5, 8)

# no noise
V &lt;- syntheticNMF(n, counts, noise=FALSE)
## Not run: aheatmap(V)

# with noise
V &lt;- syntheticNMF(n, counts)
## Not run: aheatmap(V)
</pre>

<hr /><div style="text-align: center;">[Package <em>NMF</em> version 0.21.0 <a href="00Index.html">Index</a>]</div>
</body></html>
