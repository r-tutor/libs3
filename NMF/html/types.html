<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Testing NMF Objects</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for is.nmf {NMF}"><tr><td>is.nmf {NMF}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Testing NMF Objects</h2>

<h3>Description</h3>

<p>The functions documented here tests different
characteristics of NMF objects.
</p>
<p><code>is.nmf</code> tests if an object is an NMF model or a
class that extends the class NMF.
</p>
<p><code>hasBasis</code> tests whether an objects contains a basis
matrix &ndash; returned by a suitable method <code>basis</code> &ndash;
with at least one row.
</p>
<p><code>hasBasis</code> tests whether an objects contains a
coefficient matrix &ndash; returned by a suitable method
<code>coef</code> &ndash; with at least one column.
</p>
<p><code>is.partial.nmf</code> tests whether an NMF model object
contains either an empty basis or coefficient matrix. It
is a shorcut for <code>!hasCoef(x) || !hasBasis(x)</code>.
</p>


<h3>Usage</h3>

<pre>
  is.nmf(x)

  is.empty.nmf(x, ...)

  hasBasis(x)

  hasCoef(x)

  is.partial.nmf(x)

  isNMFfit(object, recursive = TRUE)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x</code></td>
<td>
<p>an R object. See section <em>Details</em>, for how
each function uses this argument.</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>extra parameters to allow extension or passed
to subsequent calls</p>
</td></tr>
<tr valign="top"><td><code>object</code></td>
<td>
<p>any R object.</p>
</td></tr>
<tr valign="top"><td><code>recursive</code></td>
<td>
<p>if <code>TRUE</code> and <code>object</code> is a
plain list then <code>isNMFfit</code> tests each element of the
list. Note that the recursive test only applies in the
case of lists that are not themselves NMFfit objects,
like <code>NMFfitXn</code> objects for which the result of
<code>isNMFfit</code> will always be <code>TRUE</code>, although they
are list objects (a single logical value).</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>is.nmf</code> tests if <code>object</code> is the name of a
class (if a <code>character</code> string), or inherits from a
class, that extends <code><a href="NMF-class.html">NMF</a></code>.
</p>
<p><code>is.empty.nmf</code> returns <code>TRUE</code> if the basis and
coefficient matrices of <code>x</code> have respectively zero
rows and zero columns. It returns <code>FALSE</code> otherwise.
</p>
<p>In particular, this means that an empty model can still
have a non-zero number of basis components, i.e. a
factorization rank that is not null. This happens, for
example, in the case of NMF models created calling the
factory method <code><a href="nmfModel.html">nmfModel</a></code> with a value only
for the factorization rank.
</p>
<p><em>isNMFfit</em> checks if <code>object</code> inherits from
class <code><a href="NMFfit-class.html">NMFfit</a></code> or
<code><a href="NMFfitX-class.html">NMFfitX</a></code>, which are the two types of
objects returned by the function <code><a href="nmf.html">nmf</a></code>. If
<code>object</code> is a plain <code>list</code> and
<code>recursive=TRUE</code>, then the test is performed on each
element of the list, and the return value is a logical
vector (or a list if <code>object</code> is a list of list) of
the same length as <code>object</code>.
</p>


<h3>Value</h3>

<p><code>isNMFfit</code> returns a <code>logical</code> vector (or a
list if <code>object</code> is a list of list) of the same
length as <code>object</code>.
</p>


<h3>Note</h3>

<p>The function <code>is.nmf</code> does some extra work with the
namespace as this function needs to return correct
results even when called in <code>.onLoad</code>. See
discussion on r-devel:
<a href="https://stat.ethz.ch/pipermail/r-devel/2011-June/061357.html">https://stat.ethz.ch/pipermail/r-devel/2011-June/061357.html</a>
</p>


<h3>See Also</h3>

<p><code><a href="NMFfit-class.html">NMFfit</a></code>,
<code><a href="NMFfitX-class.html">NMFfitX</a></code>,
<code><a href="NMFfitXn-class.html">NMFfitXn</a></code>
</p>


<h3>Examples</h3>

<pre>


#----------
# is.nmf
#----------
# test if an object is an NMF model, i.e. that it implements the NMF interface
is.nmf(1:4)
is.nmf('NMFstd')
is.nmf('NMFblah')
is.nmf( nmfModel(3) )
is.nmf( nmf(rmatrix(20,10), 3) )

#----------
# is.empty.nmf
#----------
# empty model
is.empty.nmf( nmfModel(3) )
# non empty models
is.empty.nmf( nmfModel(3, 10, 0) )
is.empty.nmf( rnmf(3, 10, 5) )

#----------
# isNMFfit
#----------
## Testing results of fits
# generate a random
V &lt;- rmatrix(20, 10)

# single run -- using very low value for maxIter to speed up the example
res &lt;- nmf(V, 3, maxIter=3L)
isNMFfit(res)

# multiple runs - keeping single fit
resm &lt;- nmf(V, 3, nrun=3, maxIter=3L)
isNMFfit(resm)

# with a list of results
isNMFfit(list(res, resm, 'not a result'))
isNMFfit(list(res, resm, 'not a result'), recursive=FALSE)
</pre>

<hr /><div style="text-align: center;">[Package <em>NMF</em> version 0.21.0 <a href="00Index.html">Index</a>]</div>
</body></html>
