<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Calculate and add the win probability variables to include in...</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for add_wp_variables {nflscrapR}"><tr><td>add_wp_variables {nflscrapR}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Calculate and add the win probability variables to include in a 'nflscrapR' 
play-by-play data frame</h2>

<h3>Description</h3>

<p>Given a 'nflscrapR' play-by-play data frame, calculate the win probability
for a play using the 'nflscrapR' win probability model and include 
the columns to the input data frame. See here for an explanation of the 
model methodology: <a href="https://arxiv.org/abs/1802.00998">https://arxiv.org/abs/1802.00998</a>. Source code for 
fitting the model is located here <a href="https://github.com/ryurko/nflscrapR-models/blob/master/R/init_models/init_ep_fg_models.R">https://github.com/ryurko/nflscrapR-models/blob/master/R/init_models/init_ep_fg_models.R</a>.
</p>


<h3>Usage</h3>

<pre>
add_wp_variables(pbp_data)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>pbp_data</code></td>
<td>
<p>Data frame with all of the necessary columns used to estimate
the win probability for a play.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The input data frame with additional columns included for the 
win probability (wp), win probability added (wpa), and respective  
win probability for both home and away teams (home_wp, away_wp).
</p>

<hr /><div style="text-align: center;">[Package <em>nflscrapR</em> version 1.8.0 <a href="00Index.html">Index</a>]</div>
</body></html>
